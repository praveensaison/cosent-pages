<!DOCTYPE html>
<html lang="en">
<head>
    <title>Aadhaar Redirection Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/styles.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="js/utils.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/init.js"></script>
</head>

<body>
<main class="main-container">
    <div class="center-content align-center" id="loader">
        <div class="loader"></div>
    </div>

    <div id="id-error-popup" class="error-popup-container">
        <div class="error-popup">
            <img id="info-img" src="img/information-button.png" alt="Info Image"/>
            <div class="otp-retry-message" id="otpRetryMessage"></div>
        </div>
    </div>

    <div class="kyc-verification-container">
        <p class="font-size-16">KYC Verification</p>
        <span onclick="redirectUrl()">
            <img id="close-img" src="img/close.png" alt="close icon" height="15px" width="15px"/>
        </span>
    </div>

    <div id="aadhaarSection">
        <div class="input-container">
            <img class="id-img" src="img/ID.png" alt="Id Image"/>
            <input id="aadhaarInput" inputmode="numeric" maxlength="14" oninput="formatAndValidateAadhaarInput(this)"
                   placeholder="Aadhaar number" class="aadhaar-input" type="text">
        </div>
        <p id="aadhaarDescription" class="aadhaar-description">
            Enter the 12-digit Aadhaar number linked to your registered mobile number
        </p>
        <p id="aadhaarErrorMessage" class="aadhaar-error-message">Please enter a valid Aadhaar number</p>
    </div>

    <div id="otpSection">
        <div class="otp-container">
            <p class="enter-otp">Enter OTP</p>
            <p class="otp-message">
                An OTP is sent to your registered mobile number for verification
            </p>
            <div class="otp-field">
                <input maxlength="1" type="text" inputmode="numeric"/>
                <input maxlength="1" type="text" inputmode="numeric"/>
                <input class="space" maxlength="1" type="text" inputmode="numeric"/>
                <input maxlength="1" type="text" inputmode="numeric"/>
                <input maxlength="1" type="text" inputmode="numeric"/>
                <input maxlength="1" type="text" inputmode="numeric"/>
            </div>
        </div>
        <p id="otpErrorMessage" class="otp-error-message">Invalid OTP entered</p>
        <p id="resendCounter" class="resend-countdown"></p>
        <p id="resendOtp" class="resend-otp" onclick="generateOtp()"><u>Resend OTP</u></p>
        <p id="retryResendMessage" class="resend-message"></p>
    </div>

    <div class="submit-section" id="id-submit-section">
        <div id="id-consent-section" class="consent-checkbox">
            <input type="checkbox" id="consentCheckbox" onchange="toggleGenerateOtpButton()">
            <label for="consentCheckbox" style="margin-left:8px">
                I allow Kisetsu Saison Finance (India) Private Limited to fetch my Aadhaar XML details from
                UIDAI/Digilocker
            </label>
        </div>
        <div class="submit-button2">
            <button style="display:none" disabled id="generateOtpButton" onclick="generateOtp()" type="submit">
                Send Otp
            </button>
        </div>
        <div class="submit-button2">
            <button style="display: none" disabled id="submitButton" onclick="submitOTP()" type="submit">
                Submit
            </button>
        </div>
    </div>

    <div class="digio-text-container" id="digio-text-section" >
            <div id="digio-heading-text">Aadhar fetch is in progress</div>
            <div id="digio-normal-text">Please do not go back or exit when this is in progress</div>
    </div>

    <div class="footer-container">
        <div class="footer-message">Powered by Credit Saison</div>
        <img id="cs-logo" src="img/cs-logo.svg" alt="Logo" width="20" height="20"/>
    </div>
</main>
</body>
<script src="js/late_init.js"></script>
</html>
